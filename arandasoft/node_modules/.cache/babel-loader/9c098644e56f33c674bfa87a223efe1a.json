{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Santiago.rodriguez\\\\OneDrive - Sincosoft SAS\\\\Documentos\\\\SANTIAGO\\\\Aranda\\\\React\\\\arandasoft\\\\src\\\\components\\\\Usuarios.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport { Modal, ModalBody, ModalHeader, ModalFooter } from 'reactstrap';\nimport Menu from './Menu';\nimport Select from 'react-select'; //import {getPermisosAsignados} from './Login';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction GestionUsuarios() {\n  _s();\n\n  const baseUrl = \"https://localhost:44370/api/\";\n  const [data, setData] = useState([]);\n  const [tablaUsuarios, setTablaUsuarios] = useState([]);\n  const [modalEditar, setModalEditar] = useState(false);\n  const [modalInsertar, setModalInsertar] = useState(false);\n  const [modalEliminar, setModalEliminar] = useState(false);\n  const [usuarioSeleccionado, setUsuarioSeleccionado] = useState({\n    idUsuario: '',\n    nombre: '',\n    apellidos: '',\n    direccion: '',\n    telefono: '',\n    email: '',\n    edad: '',\n    rol: '',\n    permiso: '',\n    idRol: '',\n    idPermiso: '',\n    nombreUsuario: '',\n    clave: ''\n  });\n  const [permisos, setPermisos] = useState([{\n    value: '-1',\n    label: 'Seleccione'\n  }]);\n  const [roles, setRoles] = useState([{\n    value: '-1',\n    label: 'Seleccione'\n  }]);\n  const [selectedOptionRol, setSelectedOptionRol] = useState([{\n    value: '-1',\n    label: 'Seleccione'\n  }]);\n  const [selectedOptionPermiso, setSelectedOptionPermiso] = useState([{\n    value: '-1',\n    label: 'Seleccione'\n  }]);\n  const [busqueda, setBusqueda] = useState(\"\");\n  const [busquedaRol, setBusquedaRol] = useState(\"\");\n  let permisosAsignados = sessionStorage.getItem(\"permisos\");\n  permisosAsignados = permisosAsignados !== null ? permisosAsignados : permisosAsignados = '0';\n\n  const getRoles = async () => {\n    await axios.get(baseUrl + 'roles').then(response => {\n      const rolesFormated = response.data.roles.map(r => {\n        return {\n          value: r.idRol,\n          label: r.nombre\n        };\n      });\n      setRoles(rolesFormated);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const getPermisos = async () => {\n    await axios.get(baseUrl + 'permisos').then(response => {\n      const permisosFormated = response.data.permisos.map(r => {\n        return {\n          value: r.idPermiso,\n          label: r.permiso\n        };\n      });\n      setPermisos(permisosFormated);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const handleChange = e => {\n    e.preventDefault();\n    const {\n      name,\n      value\n    } = e.target;\n    setUsuarioSeleccionado({ ...usuarioSeleccionado,\n      [name]: value\n    });\n    console.log(usuarioSeleccionado);\n  };\n\n  const handleChangeSelect = e => {\n    console.log(e);\n    const {\n      label,\n      value\n    } = e;\n    setUsuarioSeleccionado({ ...usuarioSeleccionado,\n      \"idRol\": value,\n      \"rol\": label\n    });\n    setSelectedOptionRol(e);\n    console.log(usuarioSeleccionado);\n  };\n\n  const handleChangeSelectPermiso = e => {\n    console.log(e);\n    const {\n      label,\n      value\n    } = e;\n    setUsuarioSeleccionado({ ...usuarioSeleccionado,\n      \"idPermiso\": value,\n      \"permiso\": label\n    });\n    setSelectedOptionPermiso(e);\n    console.log(usuarioSeleccionado);\n  };\n\n  const openCloseModal = () => {\n    setModalInsertar(!modalInsertar);\n  };\n\n  const openCloseModalEditar = () => {\n    setModalEditar(!modalEditar);\n  };\n\n  const openCloseModalEliminar = () => {\n    setModalEliminar(!modalEliminar);\n  };\n\n  const peticionGet = async () => {\n    await axios.get(baseUrl + 'usuarios').then(response => {\n      setData(response.data.usuario);\n      setTablaUsuarios(response.data.usuario); //     console.log(response.data.usuario);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const peticionPost = async () => {\n    delete usuarioSeleccionado.idUsuario;\n    await axios.post(baseUrl + 'usuarios', usuarioSeleccionado).then(response => {\n      setData(data.concat(response.data.usuario));\n      console.log(response.data.usuario);\n      openCloseModal();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const peticionPut = async () => {\n    debugger;\n    await axios.put(baseUrl + \"usuarios/\" + usuarioSeleccionado.idUsuario, usuarioSeleccionado).then(response => {\n      debugger;\n      var respuesta = response.data.usuario;\n      var dataAuxiliar = data;\n      dataAuxiliar.map(usuario => {\n        if (usuario.idUsuario === usuarioSeleccionado.idUsuario) {\n          debugger;\n          usuario.idUsuario = respuesta.idUsuario;\n          usuario.nombre = respuesta.nombre;\n          usuario.apellidos = respuesta.apellidos;\n          usuario.direccion = respuesta.direccion;\n          usuario.telefono = respuesta.telefono;\n          usuario.email = respuesta.email;\n          usuario.idPermiso = respuesta.idPermiso;\n          usuario.idRol = respuesta.idRol;\n          usuario.edad = respuesta.edad;\n          usuario.rol = usuarioSeleccionado.rol;\n          usuario.permiso = usuarioSeleccionado.permiso;\n          usuario.nombreUsuario = respuesta.nombreUsuario;\n          usuario.clave = respuesta.clave; //const formatted = dataAuxiliar.map(r => { return { value: usuario.rol, label: usuario.rol }})\n          //  setSelectedOptionRol(formatted);\n        }\n      });\n      openCloseModalEditar();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const peticionDelete = async () => {\n    await axios.delete(baseUrl + \"usuarios/\" + usuarioSeleccionado.idUsuario).then(response => {\n      console.log(response.data);\n      setData(data.filter(usuario => usuario.idUsuario !== response.data.id));\n      openCloseModalEliminar();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const seleccionarUsuario = (usuario, accion) => {\n    console.log(usuario);\n    setUsuarioSeleccionado(usuario);\n    accion === \"Editar\" ? openCloseModalEditar() : openCloseModalEliminar();\n    console.log(usuario.idRol, usuario.rol);\n    setSelectedOptionRol({\n      value: usuario.idRol,\n      label: usuario.rol\n    });\n    setSelectedOptionPermiso({\n      value: usuario.idPermiso,\n      label: usuario.permiso\n    });\n  };\n\n  const handleSearch = e => {\n    debugger;\n    e.preventDefault();\n    const input = e.target.name;\n    if (input === 'nombre') setBusqueda(e.target.value);\n    if (input === 'rol') setBusquedaRol(e.target.value);\n    filtrar(e.target.value, input);\n  };\n\n  const filtrar = (param, input) => {\n    var resultado = tablaUsuarios.filter(elemt => {\n      if (input === 'nombre') {\n        if (elemt.nombre.toString().toLowerCase().includes(param.toLowerCase()) || elemt.apellidos.toString().toLowerCase().includes(param.toLowerCase())) {\n          return elemt;\n        }\n      } else {\n        if (elemt.rol.toString().toLowerCase().includes(param.toLowerCase())) {\n          return elemt;\n        }\n      }\n    });\n    setData(resultado);\n  };\n\n  useEffect(() => {\n    peticionGet();\n    getRoles();\n    getPermisos(); //  getPermisosAsignados(); \n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App container\",\n      style: {\n        float: 'right',\n        width: '85%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => openCloseModal(),\n        className: \"btn btn-success mb-2\",\n        tyle: {\n          display: permisosAsignados.includes('3') ? 'block' : 'none'\n        },\n        children: [\"Nuevo\", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-plus-circle-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 168\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              name: \"nombre\",\n              value: busqueda,\n              onChange: handleSearch,\n              placeholder: \"B\\xFAsqueda por Nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Rol\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"rol\",\n              value: busquedaRol,\n              onChange: handleSearch,\n              placeholder: \"B\\xFAsqueda por Rol\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-bordered mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nombres\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"direccion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Telefono\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Edad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Rol\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Permiso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                display: permisosAsignados.includes('3') || permisosAsignados.includes('4') ? 'block' : 'none'\n              },\n              children: \"Acciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: data.map(usuario => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: usuario.idUsuario\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [usuario.nombre, \" \", usuario.apellidos, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: usuario.direccion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: usuario.telefono\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: usuario.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: usuario.edad\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: usuario.rol\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: usuario.permiso\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: usuario.nombreUsuario\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                display: permisosAsignados.includes('3') || permisosAsignados.includes('4') ? 'block' : 'none'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => seleccionarUsuario(usuario, \"Editar\"),\n                style: {\n                  display: permisosAsignados.includes('3') ? 'block' : 'none'\n                },\n                children: \"Editar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 37\n              }, this), \" \", \"\", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: () => seleccionarUsuario(usuario, \"Eliminar\"),\n                style: {\n                  display: permisosAsignados.includes('4') ? 'block' : 'none'\n                },\n                children: \"Eliminar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 33\n            }, this)]\n          }, usuario.idUsuario, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: modalInsertar,\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: \"Registrar usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"nombre\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Apellidos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"apellidos\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Direcci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"direccion\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Telefono\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"telefono\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"email\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Edad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              name: \"edad\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Rol\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              options: roles,\n              name: \"idRol\",\n              onChange: handleChangeSelect\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Permiso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              options: permisos,\n              name: \"idPermiso\",\n              onChange: handleChangeSelectPermiso\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"permiso\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Nombre Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"nombreUsuario\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"clave\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => peticionPost(),\n            children: \"Insertar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 25\n          }, this), \" \", \"  \", /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: () => openCloseModal(),\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: modalEditar,\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: \"Editar usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"nombre\",\n              readOnly: true,\n              value: usuarioSeleccionado && usuarioSeleccionado.idUsuario\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"nombre\",\n              onChange: handleChange,\n              value: usuarioSeleccionado && usuarioSeleccionado.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Apellidos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"apellidos\",\n              onChange: handleChange,\n              value: usuarioSeleccionado && usuarioSeleccionado.apellidos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Direcci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"direccion\",\n              onChange: handleChange,\n              value: usuarioSeleccionado && usuarioSeleccionado.direccion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Telefono\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"telefono\",\n              onChange: handleChange,\n              value: usuarioSeleccionado && usuarioSeleccionado.telefono\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"email\",\n              onChange: handleChange,\n              value: usuarioSeleccionado && usuarioSeleccionado.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Edad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              name: \"edad\",\n              onChange: handleChange,\n              value: usuarioSeleccionado && usuarioSeleccionado.edad\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Rol\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              options: roles,\n              defaultValue: selectedOptionRol,\n              name: \"idRol\",\n              onChange: handleChangeSelect\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Permiso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              options: permisos,\n              defaultValue: selectedOptionPermiso,\n              name: \"idPermiso\",\n              onChange: handleChangeSelectPermiso\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Nombre Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"nombreUsuario\",\n              onChange: handleChange,\n              value: usuarioSeleccionado && usuarioSeleccionado.nombreUsuario\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"clave\",\n              onChange: handleChange,\n              value: usuarioSeleccionado && usuarioSeleccionado.clave\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => peticionPut(),\n            children: \"Guardar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 25\n          }, this), \" \", \"  \", /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: () => openCloseModalEditar(),\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: modalEliminar,\n        children: [/*#__PURE__*/_jsxDEV(ModalBody, {\n          children: [\"\\xBFEst\\xE1 seguro que desea eliminar el usuario \", usuarioSeleccionado && usuarioSeleccionado.nombreUsuario, \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: () => peticionDelete(),\n            children: \"Si\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => openCloseModalEliminar(),\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(GestionUsuarios, \"4yIlhLFxiLFXW1aQuA9IGZK0G8E=\");\n\n_c = GestionUsuarios;\nexport default GestionUsuarios;\n\nvar _c;\n\n$RefreshReg$(_c, \"GestionUsuarios\");","map":{"version":3,"sources":["C:/Users/Santiago.rodriguez/OneDrive - Sincosoft SAS/Documentos/SANTIAGO/Aranda/React/arandasoft/src/components/Usuarios.js"],"names":["React","useState","useEffect","axios","Modal","ModalBody","ModalHeader","ModalFooter","Menu","Select","GestionUsuarios","baseUrl","data","setData","tablaUsuarios","setTablaUsuarios","modalEditar","setModalEditar","modalInsertar","setModalInsertar","modalEliminar","setModalEliminar","usuarioSeleccionado","setUsuarioSeleccionado","idUsuario","nombre","apellidos","direccion","telefono","email","edad","rol","permiso","idRol","idPermiso","nombreUsuario","clave","permisos","setPermisos","value","label","roles","setRoles","selectedOptionRol","setSelectedOptionRol","selectedOptionPermiso","setSelectedOptionPermiso","busqueda","setBusqueda","busquedaRol","setBusquedaRol","permisosAsignados","sessionStorage","getItem","getRoles","get","then","response","rolesFormated","map","r","catch","error","console","log","getPermisos","permisosFormated","handleChange","e","preventDefault","name","target","handleChangeSelect","handleChangeSelectPermiso","openCloseModal","openCloseModalEditar","openCloseModalEliminar","peticionGet","usuario","peticionPost","post","concat","peticionPut","put","respuesta","dataAuxiliar","peticionDelete","delete","filter","id","seleccionarUsuario","accion","handleSearch","input","filtrar","param","resultado","elemt","toString","toLowerCase","includes","float","width","display"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport axios from 'axios';\r\nimport { Modal, ModalBody, ModalHeader, ModalFooter } from 'reactstrap';\r\nimport Menu from './Menu';\r\nimport Select from 'react-select';\r\n//import {getPermisosAsignados} from './Login';\r\n\r\n\r\nfunction GestionUsuarios() {\r\n\r\n    const baseUrl = \"https://localhost:44370/api/\";\r\n    const [data, setData] = useState([]);\r\n    const [tablaUsuarios, setTablaUsuarios] = useState([]);\r\n    const [modalEditar, setModalEditar] = useState(false)\r\n    const [modalInsertar, setModalInsertar] = useState(false);\r\n    const [modalEliminar, setModalEliminar] = useState(false);\r\n    const [usuarioSeleccionado, setUsuarioSeleccionado] = useState({\r\n        idUsuario: '',\r\n        nombre: '',\r\n        apellidos: '',\r\n        direccion: '',\r\n        telefono: '',\r\n        email: '',\r\n        edad: '',\r\n        rol: '',\r\n        permiso: '',\r\n        idRol: '',\r\n        idPermiso: '',\r\n        nombreUsuario: '',\r\n        clave: ''\r\n    });\r\n    const [permisos, setPermisos] = useState([\r\n        { value: '-1', label: 'Seleccione' }\r\n    ]);\r\n    const [roles, setRoles] = useState([\r\n        { value: '-1', label: 'Seleccione' }\r\n    ]);\r\n    const [selectedOptionRol, setSelectedOptionRol] = useState([\r\n        { value: '-1', label: 'Seleccione' }\r\n    ]);\r\n    const [selectedOptionPermiso, setSelectedOptionPermiso] = useState([\r\n        { value: '-1', label: 'Seleccione' }\r\n    ]);\r\n    const [busqueda, setBusqueda] = useState(\"\");\r\n    const [busquedaRol, setBusquedaRol] = useState(\"\");\r\n    let permisosAsignados = sessionStorage.getItem(\"permisos\") ;\r\n    permisosAsignados=(permisosAsignados !== null ? permisosAsignados : permisosAsignados='0');\r\n\r\n    const getRoles = async () => {\r\n        await axios.get(baseUrl + 'roles')\r\n            .then(response => {\r\n                const rolesFormated = response.data.roles.map(r => {\r\n                    return { value: r.idRol, label: r.nombre }\r\n                })\r\n                setRoles(rolesFormated);\r\n            }).catch(error => {\r\n                console.log(error);\r\n            })\r\n            ;\r\n    }\r\n    const getPermisos = async () => {\r\n        await axios.get(baseUrl + 'permisos')\r\n            .then(response => {\r\n                const permisosFormated = response.data.permisos.map(r => {\r\n                    return { value: r.idPermiso, label: r.permiso }\r\n                })\r\n                setPermisos(permisosFormated);\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n    const handleChange = (e) => {\r\n        e.preventDefault();\r\n        const { name, value } = e.target;\r\n        setUsuarioSeleccionado({\r\n            ...usuarioSeleccionado,\r\n            [name]: value\r\n        });\r\n        console.log(usuarioSeleccionado);\r\n    }\r\n    const handleChangeSelect = (e) => {\r\n        console.log(e);\r\n        const { label, value } = e;\r\n        setUsuarioSeleccionado({\r\n            ...usuarioSeleccionado,\r\n            \"idRol\": value,\r\n            \"rol\": label\r\n        });\r\n        setSelectedOptionRol(e);\r\n        console.log(usuarioSeleccionado);\r\n    }\r\n    const handleChangeSelectPermiso = (e) => {\r\n        console.log(e);\r\n        const { label, value } = e;\r\n        setUsuarioSeleccionado({\r\n            ...usuarioSeleccionado,\r\n            \"idPermiso\": value,\r\n            \"permiso\": label\r\n        });\r\n        setSelectedOptionPermiso(e);\r\n        console.log(usuarioSeleccionado);\r\n    }\r\n    const openCloseModal = () => {\r\n        setModalInsertar(!modalInsertar);\r\n    }\r\n    const openCloseModalEditar = () => {\r\n        setModalEditar(!modalEditar);\r\n    }\r\n    const openCloseModalEliminar = () => {\r\n        setModalEliminar(!modalEliminar);\r\n    }\r\n    const peticionGet = async () => {\r\n        await axios.get(baseUrl + 'usuarios')\r\n            .then(response => {\r\n                setData(response.data.usuario);\r\n                setTablaUsuarios(response.data.usuario);\r\n                //     console.log(response.data.usuario);\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n    const peticionPost = async () => {\r\n        delete usuarioSeleccionado.idUsuario;\r\n        await axios.post(baseUrl + 'usuarios', usuarioSeleccionado)\r\n            .then(response => {\r\n                setData(data.concat(response.data.usuario));\r\n                console.log(response.data.usuario);\r\n                openCloseModal();\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const peticionPut = async () => {\r\n        debugger\r\n        await axios.put(baseUrl + \"usuarios/\" + usuarioSeleccionado.idUsuario, usuarioSeleccionado)\r\n            .then(response => {\r\n                debugger\r\n                var respuesta = response.data.usuario;\r\n                var dataAuxiliar = data;\r\n                dataAuxiliar.map(usuario => {\r\n                    if (usuario.idUsuario === usuarioSeleccionado.idUsuario) {\r\n                        debugger\r\n                        usuario.idUsuario = respuesta.idUsuario;\r\n                        usuario.nombre = respuesta.nombre;\r\n                        usuario.apellidos = respuesta.apellidos;\r\n                        usuario.direccion = respuesta.direccion;\r\n                        usuario.telefono = respuesta.telefono;\r\n                        usuario.email = respuesta.email;\r\n                        usuario.idPermiso = respuesta.idPermiso;\r\n                        usuario.idRol = respuesta.idRol;\r\n                        usuario.edad = respuesta.edad;\r\n                        usuario.rol = usuarioSeleccionado.rol;\r\n                        usuario.permiso = usuarioSeleccionado.permiso;\r\n                        usuario.nombreUsuario = respuesta.nombreUsuario;\r\n                        usuario.clave = respuesta.clave;\r\n                        //const formatted = dataAuxiliar.map(r => { return { value: usuario.rol, label: usuario.rol }})\r\n                        //  setSelectedOptionRol(formatted);\r\n                    }\r\n                });\r\n                openCloseModalEditar();\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n    const peticionDelete = async () => {\r\n        await axios.delete(baseUrl + \"usuarios/\" + usuarioSeleccionado.idUsuario)\r\n            .then(response => {\r\n                console.log(response.data);\r\n                setData(data.filter(usuario => usuario.idUsuario !== response.data.id));\r\n                openCloseModalEliminar();\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const seleccionarUsuario = (usuario, accion) => {\r\n        console.log(usuario);\r\n        setUsuarioSeleccionado(usuario);\r\n        (accion === \"Editar\") ?\r\n            openCloseModalEditar() : openCloseModalEliminar();\r\n        console.log(usuario.idRol, usuario.rol);\r\n        setSelectedOptionRol({ value: usuario.idRol, label: usuario.rol });\r\n        setSelectedOptionPermiso({ value: usuario.idPermiso, label: usuario.permiso });\r\n    }\r\n\r\n    const handleSearch = (e) => {\r\n        debugger\r\n        e.preventDefault();\r\n        const input = e.target.name;\r\n        if (input === 'nombre') setBusqueda(e.target.value);\r\n        if (input === 'rol') setBusquedaRol(e.target.value);\r\n        filtrar(e.target.value, input);\r\n    }\r\n    const filtrar = (param, input) => {\r\n        var resultado = tablaUsuarios.filter((elemt) => {\r\n            if (input === 'nombre') {\r\n                if (elemt.nombre.toString().toLowerCase().includes(param.toLowerCase())\r\n                    || elemt.apellidos.toString().toLowerCase().includes(param.toLowerCase())) {\r\n                    return elemt;\r\n                }\r\n            } else {\r\n                if (elemt.rol.toString().toLowerCase().includes(param.toLowerCase())) {\r\n                    return elemt;\r\n                }\r\n            }\r\n        });\r\n        setData(resultado);\r\n    }\r\n\r\n    useEffect(() => {\r\n        peticionGet();\r\n        getRoles();\r\n        getPermisos();\r\n      //  getPermisosAsignados(); \r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Menu />\r\n          \r\n            <div className=\"App container\" style={{ float: 'right', width: '85%' }}>\r\n                <button onClick={() => openCloseModal()} className='btn btn-success mb-2' tyle={{display: (permisosAsignados.includes('3') ? 'block' : 'none' )}}>Nuevo<i className=\"bi bi-plus-circle-fill\"></i></button>\r\n                <form>\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            <label>Nombre</label>\r\n                            <input className='form-control' name='nombre' value={busqueda} onChange={handleSearch} placeholder='Bsqueda por Nombre' />\r\n                        </div>\r\n                        <div className=\"col\">\r\n                            <label>Rol</label>\r\n                            <input type=\"text\" className='form-control' name='rol' value={busquedaRol} onChange={handleSearch} placeholder='Bsqueda por Rol' />\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n\r\n                {/* <div>\r\n                    <form>\r\n                        <label>Nombre</label>\r\n                        <input className='form-control ' value={busqueda} onChange={handleSearch} placeholder='Bsqueda por Nombre' /> */}\r\n                {/* <input type=\"text\" className='form-control' name=\"nombreUsuario\" />\r\n                        <label>Rol</label>\r\n                        <input type=\"text\" className='filter-nombre' value={busqueda} onChange={handleSearch} /> */}\r\n                {/* </form>\r\n                </div> */}\r\n                <table className='table table-bordered mt-2'>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Id</th>\r\n                            <th>Nombres</th>\r\n                            <th>direccion</th>\r\n                            <th>Telefono</th>\r\n                            <th>Email</th>\r\n                            <th>Edad</th>\r\n                            <th>Rol</th>\r\n                            <th>Permiso</th>\r\n                             <th>Usuario</th>\r\n                            <th style={{display: (permisosAsignados.includes('3') || permisosAsignados.includes('4') ? 'block' : 'none' )}}>Acciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data.map(usuario => (\r\n                            <tr key={usuario.idUsuario}>\r\n                                <td>{usuario.idUsuario}</td>\r\n                                <td>{usuario.nombre} {usuario.apellidos} </td>\r\n                                <td>{usuario.direccion}</td>\r\n                                <td>{usuario.telefono}</td>\r\n                                <td>{usuario.email}</td>\r\n                                <td>{usuario.edad}</td>\r\n                                <td>{usuario.rol}</td>\r\n                                <td>{usuario.permiso}</td>\r\n                                <td>{usuario.nombreUsuario}</td>\r\n                                <td style={{display: (permisosAsignados.includes('3') || permisosAsignados.includes('4') ? 'block' : 'none' )}}>\r\n                                    <button className='btn btn-primary' onClick={() => seleccionarUsuario(usuario, \"Editar\")} style={{display: (permisosAsignados.includes('3') ? 'block' : 'none' )}}>Editar</button> {\"\"}\r\n                                    <button className='btn btn-danger' onClick={() => seleccionarUsuario(usuario, \"Eliminar\")} style={{display: (permisosAsignados.includes('4') ? 'block' : 'none' )}}>Eliminar</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                <Modal isOpen={modalInsertar}>\r\n                    <ModalHeader>Registrar usuario</ModalHeader>\r\n                    <ModalBody>\r\n                        <div className='form-group'>\r\n                            <label>Nombre</label>\r\n                            <input type=\"text\" className='form-control' name=\"nombre\" onChange={handleChange} />\r\n                            <label>Apellidos</label>\r\n                            <input type=\"text\" className='form-control' name=\"apellidos\" onChange={handleChange} />\r\n                            <label>Direccin</label>\r\n                            <input type=\"text\" className='form-control' name=\"direccion\" onChange={handleChange} />\r\n                            <label>Telefono</label>\r\n                            <input type=\"text\" className='form-control' name=\"telefono\" onChange={handleChange} />\r\n                            <label>Email</label>\r\n                            <input type=\"text\" className='form-control' name=\"email\" onChange={handleChange} />\r\n                            <label>Edad</label>\r\n                            <input type=\"number\" className='form-control' name=\"edad\" onChange={handleChange} />\r\n                            <label>Rol</label>\r\n                            <Select options={roles} name=\"idRol\" onChange={handleChangeSelect} />\r\n                            {/* <input type=\"text\" className='form-control' name=\"rol\" onChange={handleChange} /> */}\r\n                            <label>Permiso</label>\r\n                            <Select options={permisos} name=\"idPermiso\" onChange={handleChangeSelectPermiso} />\r\n                            <input type=\"text\" className='form-control' name=\"permiso\" onChange={handleChange} />\r\n                            <label>Nombre Usuario</label>\r\n                            <input type=\"text\" className='form-control' name=\"nombreUsuario\" onChange={handleChange} />\r\n                            <label>Contrasea</label>\r\n                            <input type=\"text\" className='form-control' name=\"clave\" onChange={handleChange} />\r\n                        </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button className='btn btn-primary' onClick={() => peticionPost()}>Insertar</button> {\"  \"}\r\n                        <button className='btn btn-danger' onClick={() => openCloseModal()}>Cancelar</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n\r\n                <Modal isOpen={modalEditar}>\r\n                    <ModalHeader>Editar usuario</ModalHeader>\r\n                    <ModalBody>\r\n                        <div className='form-group'>\r\n                            <label>Id</label>\r\n                            <input type=\"text\" className='form-control' name=\"nombre\" readOnly value={usuarioSeleccionado && usuarioSeleccionado.idUsuario} />\r\n                            <label>Nombre</label>\r\n                            <input type=\"text\" className='form-control' name=\"nombre\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.nombre} />\r\n                            <label>Apellidos</label>\r\n                            <input type=\"text\" className='form-control' name=\"apellidos\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.apellidos} />\r\n                            <label>Direccin</label>\r\n                            <input type=\"text\" className='form-control' name=\"direccion\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.direccion} />\r\n                            <label>Telefono</label>\r\n                            <input type=\"text\" className='form-control' name=\"telefono\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.telefono} />\r\n                            <label>Email</label>\r\n                            <input type=\"text\" className='form-control' name=\"email\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.email} />\r\n                            <label>Edad</label>\r\n                            <input type=\"number\" className='form-control' name=\"edad\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.edad} />\r\n                            <label>Rol</label>\r\n                            {/* <input type=\"text\" className='form-control' name=\"rol\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.idRol} /> */}\r\n                            <Select options={roles} defaultValue={selectedOptionRol} name=\"idRol\" onChange={handleChangeSelect} />\r\n                            {/* <Select options={roles} defaultValue={selectedOptionRol} onChange={changeValueSelect} /> */}\r\n                            <label>Permiso</label>\r\n                            <Select options={permisos} defaultValue={selectedOptionPermiso} name=\"idPermiso\" onChange={handleChangeSelectPermiso} />\r\n                            <label>Nombre Usuario</label>\r\n                            <input type=\"text\" className='form-control' name=\"nombreUsuario\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.nombreUsuario} />\r\n                            <label>Contrasea</label>\r\n                            <input type=\"text\" className='form-control' name=\"clave\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.clave} />\r\n                        </div>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button className='btn btn-primary' onClick={() => peticionPut()}>Guardar</button> {\"  \"}\r\n                        <button className='btn btn-danger' onClick={() => openCloseModalEditar()}>Cancelar</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n                <Modal isOpen={modalEliminar}>\r\n                    <ModalBody>\r\n                        Est seguro que desea eliminar el usuario {usuarioSeleccionado && usuarioSeleccionado.nombreUsuario}?\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <button className='btn btn-danger' onClick={() => peticionDelete()}>Si</button>\r\n                        <button className='btn btn-secondary' onClick={() => openCloseModalEliminar()}>No</button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default GestionUsuarios;"]},"metadata":{},"sourceType":"module"}